<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced BCP Congestion Management System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f2f5;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        h1 {
            color: #1a365d;
            margin-bottom: 30px;
            text-align: center;
        }

        .time-selector {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            text-align: center;
        }

        .interval-buttons {
            display: inline-flex;
            gap: 10px;
            margin-top: 10px;
        }

        .interval-btn {
            padding: 8px 20px;
            border: 2px solid #3182ce;
            background: white;
            color: #3182ce;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
        }

        .interval-btn.active {
            background: #3182ce;
            color: white;
        }

        .input-section {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .transport-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .transport-card {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
        }

        .transport-card h4 {
            color: #2d3748;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .capacity-badge {
            background: #3182ce;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: normal;
        }

        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-weight: 600;
            color: #64748b;
            margin-bottom: 5px;
            font-size: 13px;
        }

        input[type="number"] {
            padding: 8px;
            border: 2px solid #e2e8f0;
            border-radius: 5px;
            font-size: 14px;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #3182ce;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: #2b6cb0;
            margin: 20px 0 15px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }

        .waiting-areas {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .area-status {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
            position: relative;
            overflow: hidden;
        }

        .area-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .area-name {
            font-weight: 600;
            color: #2d3748;
        }

        .area-capacity {
            font-size: 12px;
            color: #64748b;
        }

        .occupancy-bar {
            height: 20px;
            background: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .occupancy-fill {
            height: 100%;
            background: #3182ce;
            transition: width 0.5s ease, background-color 0.3s;
        }

        .occupancy-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 12px;
            font-weight: 600;
            color: #2d3748;
        }

        .button-group {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 25px;
        }

        button {
            padding: 12px 30px;
            font-size: 16px;
            font-weight: 600;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background-color: #3182ce;
            color: white;
        }

        .btn-primary:hover {
            background-color: #2563eb;
            transform: translateY(-1px);
        }

        .btn-secondary {
            background-color: #64748b;
            color: white;
        }

        .results-section {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .alert-box {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alert-critical {
            background: #fee2e2;
            color: #991b1b;
            border: 2px solid #fca5a5;
        }

        .alert-warning {
            background: #fef3c7;
            color: #92400e;
            border: 2px solid #fcd34d;
        }

        .alert-info {
            background: #dbeafe;
            color: #1e40af;
            border: 2px solid #93c5fd;
        }

        .metric-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .metric-card h3 {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 10px;
        }

        .metric-value {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .flow-diagram {
            margin: 30px 0;
            padding: 20px;
            background: #f8fafc;
            border-radius: 8px;
        }

        .timeline-container {
            margin-top: 30px;
            padding: 20px;
            background: #f8fafc;
            border-radius: 8px;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
        }

        .status-green { background-color: #10b981; }
        .status-yellow { background-color: #f59e0b; }
        .status-red { background-color: #ef4444; }

        @media (max-width: 768px) {
            .transport-grid {
                grid-template-columns: 1fr;
            }
            
            .waiting-areas {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🛂 Advanced Border Control Point Congestion Management System</h1>
        
        <div class="time-selector">
            <div>
                <strong>Current Time:</strong> <span id="timestamp"></span>
            </div>
            <div class="interval-buttons">
                <button class="interval-btn active" onclick="setInterval(30)">30 min forecast</button>
                <button class="interval-btn" onclick="setInterval(60)">60 min forecast</button>
                <button class="interval-btn" onclick="setInterval(90)">90 min forecast</button>
            </div>
        </div>

        <div class="input-section">
            <h2 class="section-title">🚌 Transport Arrivals</h2>
            <div class="transport-grid">
                <div class="transport-card">
                    <h4>Bus B7 <span class="capacity-badge">Cap: 110</span></h4>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Number of Buses</label>
                            <input type="number" id="b7_count" value="2" min="0" max="20">
                        </div>
                        <div class="input-group">
                            <label>Avg Load %</label>
                            <input type="number" id="b7_load" value="85" min="0" max="100">
                        </div>
                    </div>
                </div>

                <div class="transport-card">
                    <h4>Bus B8 <span class="capacity-badge">Cap: 110</span></h4>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Number of Buses</label>
                            <input type="number" id="b8_count" value="2" min="0" max="20">
                        </div>
                        <div class="input-group">
                            <label>Avg Load %</label>
                            <input type="number" id="b8_load" value="80" min="0" max="100">
                        </div>
                    </div>
                </div>

                <div class="transport-card">
                    <h4>Bus B9 <span class="capacity-badge">Cap: 110</span></h4>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Number of Buses</label>
                            <input type="number" id="b9_count" value="1" min="0" max="20">
                        </div>
                        <div class="input-group">
                            <label>Avg Load %</label>
                            <input type="number" id="b9_load" value="75" min="0" max="100">
                        </div>
                    </div>
                </div>

                <div class="transport-card">
                    <h4>Minibus 59S <span class="capacity-badge">Cap: 19</span></h4>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Number of Minibuses</label>
                            <input type="number" id="minibus_count" value="4" min="0" max="30">
                        </div>
                        <div class="input-group">
                            <label>Avg Load %</label>
                            <input type="number" id="minibus_load" value="90" min="0" max="100">
                        </div>
                    </div>
                </div>

                <div class="transport-card">
                    <h4>Tourist Coaches <span class="capacity-badge">Cap: 50</span></h4>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Number of Coaches</label>
                            <input type="number" id="coach_count" value="3" min="0" max="20">
                        </div>
                        <div class="input-group">
                            <label>Avg Load %</label>
                            <input type="number" id="coach_load" value="95" min="0" max="100">
                        </div>
                    </div>
                </div>
            </div>

            <h2 class="section-title">🏢 Immigration Processing</h2>
            <div class="transport-grid">
                <div class="transport-card">
                    <h4>HK Immigration</h4>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Open Counters</label>
                            <input type="number" id="hk_counters" value="15" min="1" max="30">
                        </div>
                        <div class="input-group">
                            <label>Avg Time (sec)</label>
                            <input type="number" id="hk_time" value="45" min="10" max="300">
                        </div>
                    </div>
                </div>

                <div class="transport-card">
                    <h4>China Immigration</h4>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Open Counters</label>
                            <input type="number" id="cn_counters" value="12" min="1" max="30">
                        </div>
                        <div class="input-group">
                            <label>Avg Time (sec)</label>
                            <input type="number" id="cn_time" value="60" min="10" max="300">
                        </div>
                    </div>
                </div>
            </div>

            <h2 class="section-title">⚡ Buffer Zone Factors</h2>
            <div class="input-row" style="max-width: 600px; margin: 0 auto;">
                <div class="input-group">
                    <label>Peak Hour Surge Factor</label>
                    <input type="number" id="surge_factor" value="1.2" min="1" max="2" step="0.1">
                </div>
                <div class="input-group">
                    <label>Processing Efficiency %</label>
                    <input type="number" id="efficiency" value="85" min="50" max="100">
                </div>
            </div>

            <div class="button-group">
                <button class="btn-primary" onclick="calculateAdvancedCongestion()">Calculate Congestion</button>
                <button class="btn-secondary" onclick="resetForm()">Reset Values</button>
            </div>
        </div>

        <div class="results-section" id="results" style="display: none;">
            <div id="alertsContainer"></div>
            
            <h2 class="section-title">📊 Congestion Analysis Results</h2>
            
            <div class="metric-cards" id="metricCards">
                <!-- Metrics will be inserted here -->
            </div>

            <h2 class="section-title">🏢 Waiting Area Status</h2>
            <div class="waiting-areas" id="waitingAreas">
                <!-- Waiting area status will be inserted here -->
            </div>

            <div class="flow-diagram">
                <h3 style="text-align: center; margin-bottom: 20px;">People Flow Visualization</h3>
                <canvas id="flowChart" height="300"></canvas>
            </div>

            <div class="timeline-container">
                <h3 style="text-align: center; margin-bottom: 20px;">Congestion Timeline Projection</h3>
                <canvas id="timelineChart" height="250"></canvas>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        let forecastInterval = 30;
        let flowChart = null;
        let timelineChart = null;

        // Waiting area definitions
        const waitingAreas = [
            { id: 'A1', name: 'Area A1 - 1/F Immigration Hall', capacity: 300, location: 'pre-hk' },
            { id: 'A2', name: 'Area A2 - Outside Immigration Hall', capacity: 300, location: 'pre-hk' },
            { id: 'B1', name: 'Area B1 - G/F PTI', capacity: 300, location: 'pre-hk' },
            { id: 'B2', name: 'Area B2 - G/F PTI', capacity: 300, location: 'pre-hk' },
            { id: 'C', name: 'Area C - Buffer Zone', capacity: 1000, location: 'post-hk' }
        ];

        function updateTimestamp() {
            const now = new Date();
            const timeString = now.toLocaleString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            document.getElementById('timestamp').textContent = timeString;
        }

        updateTimestamp();
        setInterval(updateTimestamp, 60000);

        function setInterval(minutes) {
            forecastInterval = minutes;
            document.querySelectorAll('.interval-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function calculateAdvancedCongestion() {
            // Collect transport data
            const transportData = {
                b7: { count: parseInt(document.getElementById('b7_count').value), 
                      load: parseInt(document.getElementById('b7_load').value) / 100, 
                      capacity: 110 },
                b8: { count: parseInt(document.getElementById('b8_count').value), 
                      load: parseInt(document.getElementById('b8_load').value) / 100, 
                      capacity: 110 },
                b9: { count: parseInt(document.getElementById('b9_count').value), 
                      load: parseInt(document.getElementById('b9_load').value) / 100, 
                      capacity: 110 },
                minibus: { count: parseInt(document.getElementById('minibus_count').value), 
                          load: parseInt(document.getElementById('minibus_load').value) / 100, 
                          capacity: 19 },
                coach: { count: parseInt(document.getElementById('coach_count').value), 
                        load: parseInt(document.getElementById('coach_load').value) / 100, 
                        capacity: 50 }
            };

            // Immigration data
            const hkCounters = parseInt(document.getElementById('hk_counters').value);
            const hkTime = parseInt(document.getElementById('hk_time').value);
            const cnCounters = parseInt(document.getElementById('cn_counters').value);
            const cnTime = parseInt(document.getElementById('cn_time').value);
            
            // Buffer factors
            const surgeFactor = parseFloat(document.getElementById('surge_factor').value);
            const efficiency = parseInt(document.getElementById('efficiency').value) / 100;

            // Calculate total arrivals
            let totalArrivals = 0;
            for (const [key, transport] of Object.entries(transportData)) {
                totalArrivals += transport.count * transport.capacity * transport.load;
            }
            
            // Apply surge factor
            totalArrivals *= surgeFactor;
            
            // Calculate arrival rate per minute
            const arrivalRate = totalArrivals / forecastInterval;
            
            // Calculate processing capacities with efficiency
            const hkCapacityPerMin = (hkCounters * 60 / hkTime) * efficiency;
            const cnCapacityPerMin = (cnCounters * 60 / cnTime) * efficiency;
            
            // Calculate queue buildup
            const results = simulateQueueBuildup(arrivalRate, hkCapacityPerMin, cnCapacityPerMin, forecastInterval);
            
            // Display results
            displayAdvancedResults(results, totalArrivals);
            
            document.getElementById('results').style.display = 'block';
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        function simulateQueueBuildup(arrivalRate, hkCapacity, cnCapacity, duration) {
            const results = {
                timeline: [],
                peakQueue: 0,
                areaOccupancy: {},
                bottleneck: '',
                alerts: []
            };

            let queueBeforeHK = 0;
            let queueBetweenHKCN = 0;
            let processedTotal = 0;

            // Initialize area occupancy
            waitingAreas.forEach(area => {
                results.areaOccupancy[area.id] = 0;
            });

            // Simulate minute by minute
            for (let minute = 0; minute <= duration; minute += 5) {
                // New arrivals
                const newArrivals = arrivalRate * 5;
                queueBeforeHK += newArrivals;

                // HK processing
                const hkProcessed = Math.min(queueBeforeHK, hkCapacity * 5);
                queueBeforeHK -= hkProcessed;
                queueBetweenHKCN += hkProcessed;

                // CN processing
                const cnProcessed = Math.min(queueBetweenHKCN, cnCapacity * 5);
                queueBetweenHKCN -= cnProcessed;
                processedTotal += cnProcessed;

                // Distribute queues to waiting areas
                distributeToWaitingAreas(queueBeforeHK, queueBetweenHKCN, results.areaOccupancy);

                // Record timeline
                results.timeline.push({
                    minute: minute,
                    queueBeforeHK: Math.round(queueBeforeHK),
                    queueBetweenHKCN: Math.round(queueBetweenHKCN),
                    totalInSystem: Math.round(queueBeforeHK + queueBetweenHKCN)
                });

                // Update peak
                const totalQueue = queueBeforeHK + queueBetweenHKCN;
                if (totalQueue > results.peakQueue) {
                    results.peakQueue = Math.round(totalQueue);
                }
            }

            // Determine bottleneck
            if (hkCapacity < cnCapacity && hkCapacity < arrivalRate) {
                results.bottleneck = 'HK Immigration';
            } else if (cnCapacity < arrivalRate) {
                results.bottleneck = 'China Immigration';
            } else {
                results.bottleneck = 'None';
            }

            // Generate alerts
            generateAlerts(results);

            return results;
        }

        function distributeToWaitingAreas(queueBeforeHK, queueBetweenHKCN, occupancy) {
            // Reset occupancy
            Object.keys(occupancy).forEach(key => occupancy[key] = 0);

            // Fill pre-HK areas sequentially
            let remainingPreHK = queueBeforeHK;
            const preHKAreas = ['A1', 'A2', 'B1', 'B2'];
            
            for (const areaId of preHKAreas) {
                const area = waitingAreas.find(a => a.id === areaId);
                if (remainingPreHK > 0) {
                    occupancy[areaId] = Math.min(remainingPreHK, area.capacity);
                    remainingPreHK -= occupancy[areaId];
                }
            }

            // Fill Area C (post-HK, pre-CN)
            occupancy['C'] = Math.min(queueBetweenHKCN, 1000);
        }

        function generateAlerts(results) {
            // Check for critical conditions
            if (results.peakQueue > 1500) {
                results.alerts.push({
                    type: 'critical',
                    message: '⚠️ CRITICAL: Total queue exceeds 1500 people. Immediate action required!'
                });
            }

            // Check area capacity
            for (const [areaId, occupancy] of Object.entries(results.areaOccupancy)) {
                const area = waitingAreas.find(a => a.id === areaId);
                if (occupancy >= area.capacity * 0.9) {
                    results.alerts.push({
                        type: 'warning',
                        message: `⚠️ ${area.name} is near capacity (${Math.round(occupancy/area.capacity*100)}% full)`
                    });
                }
            }

            // Check bottleneck
            if (results.bottleneck !== 'None') {
                results.alerts.push({
                    type: 'info',
                    message: `ℹ️ Bottleneck identified at ${results.bottleneck}. Consider opening additional counters.`
                });
            }
        }

        function displayAdvancedResults(results, totalArrivals) {
            // Display alerts
            const alertsHTML = results.alerts.map(alert => `
                <div class="alert-box alert-${alert.type}">
                    ${alert.message}
                </div>
            `).join('');
            document.getElementById('alertsContainer').innerHTML = alertsHTML;

            // Calculate key metrics
            const finalQueue = results.timeline[results.timeline.length - 1];
            const avgWaitTime = finalQueue.totalInSystem > 0 ? 
                Math.round(finalQueue.totalInSystem / (totalArrivals / forecastInterval)) : 0;

            // Display metrics
            const metricsHTML = `
                <div class="metric-card" style="background-color: #e0e7ff; color: #3730a3;">
                    <h3>EXPECTED ARRIVALS</h3>
                    <div class="metric-value">${Math.round(totalArrivals)}</div>
                    <div class="metric-status">in ${forecastInterval} minutes</div>
                </div>
                <div class="metric-card" style="background-color: #fef3c7; color: #92400e;">
                    <h3>PEAK QUEUE SIZE</h3>
                    <div class="metric-value">${results.peakQueue}</div>
                    <div class="metric-status">people</div>
                </div>
                <div class="metric-card" style="background-color: #ddd6fe; color: #5b21b6;">
                    <h3>AVG WAIT TIME</h3>
                    <div class="metric-value">${avgWaitTime}</div>
                    <div class="metric-status">minutes</div>
                </div>
                <div class="metric-card" style="background-color: #fee2e2; color: #991b1b;">
                    <h3>BOTTLENECK</h3>
                    <div class="metric-value" style="font-size: 18px;">${results.bottleneck}</div>
                    <div class="metric-status">needs attention</div>
                </div>
            `;
            document.getElementById('metricCards').innerHTML = metricsHTML;

            // Display waiting area status
            displayWaitingAreas(results.areaOccupancy);

            // Generate charts
            generateFlowChart(results);
            generateTimelineChart(results);
        }

        function displayWaitingAreas(occupancy) {
            const areasHTML = waitingAreas.map(area => {
                const occupied = occupancy[area.id] || 0;
                const percentage = (occupied / area.capacity) * 100;
                let fillColor = '#3182ce';
                if (percentage > 90) fillColor = '#ef4444';
                else if (percentage > 70) fillColor = '#f59e0b';
                else if (percentage > 50) fillColor = '#10b981';

                return `
                    <div class="area-status">
                        <div class="area-header">
                            <span class="area-name">${area.name}</span>
                            <span class="area-capacity">Capacity: ${area.capacity}</span>
                        </div>
                        <div class="occupancy-bar">
                            <div class="occupancy-fill" style="width: ${percentage}%; background-color: ${fillColor};"></div>
                            <div class="occupancy-text">${Math.round(occupied)} / ${area.capacity}</div>
                        </div>
                    </div>
                `;
            }).join('');
            
            document.getElementById('waitingAreas').innerHTML = areasHTML;
        }

        function generateFlowChart(results) {
            const ctx = document.getElementById('flowChart').getContext('2d');
            
            if (flowChart) {
                flowChart.destroy();
            }

            const lastData = results.timeline[results.timeline.length - 1];

            flowChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Before HK Immigration', 'Between HK-CN Immigration'],
                    datasets: [{
                        label: 'People Waiting',
                        data: [lastData.queueBeforeHK, lastData.queueBetweenHKCN],
                        backgroundColor: ['#3182ce', '#f59e0b'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Number of People'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        function generateTimelineChart(results) {
            const ctx = document.getElementById('timelineChart').getContext('2d');
            
            if (timelineChart) {
                timelineChart.destroy();
            }

            const labels = results.timeline.map(t => `${t.minute} min`);
            const queueData = results.timeline.map(t => t.totalInSystem);

            timelineChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Total Queue Size',
                        data: queueData,
                        borderColor: '#3182ce',
                        backgroundColor: 'rgba(49, 130, 206, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Total People in System'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Time Projection'
                            }
                        }
                    }
                }
            });
        }

        function resetForm() {
            document.getElementById('b7_count').value = 2;
            document.getElementById('b7_load').value = 85;
            document.getElementById('b8_count').value = 2;
            document.getElementById('b8_load').value = 80;
            document.getElementById('b9_count').value = 1;
            document.getElementById('b9_load').value = 75;
            document.getElementById('minibus_count').value = 4;
            document.getElementById('minibus_load').value = 90;
            document.getElementById('coach_count').value = 3;
            document.getElementById('coach_load').value = 95;
            document.getElementById('hk_counters').value = 15;
            document.getElementById('hk_time').value = 45;
            document.getElementById('cn_counters').value = 12;
            document.getElementById('cn_time').value = 60;
            document.getElementById('surge_factor').value = 1.2;
            document.getElementById('efficiency').value = 85;
            document.getElementById('results').style.display = 'none';
        }
    </script>
</body>
</html>